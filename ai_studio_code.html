<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium TV Streamer</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap');

        :root {
            --glass: rgba(255, 255, 255, 0.05);
            --glass-heavy: rgba(10, 10, 10, 0.75);
            --border: rgba(255, 255, 255, 0.12);
            --accent: #00d4ff;
            --accent-glow: rgba(0, 212, 255, 0.4);
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background: #050505;
            font-family: 'Outfit', sans-serif;
            color: white;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Premium Floating URL Bar */
        .header-panel {
            position: fixed;
            top: 30px;
            width: 70%;
            z-index: 100;
            transition: transform 0.5s cubic-bezier(0.19, 1, 0.22, 1), opacity 0.5s;
        }

        .url-bar-container {
            display: flex;
            background: var(--glass);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--border);
            padding: 10px 15px;
            border-radius: 100px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
            transition: 0.3s;
        }

        .url-bar-container:focus-within {
            border-color: var(--accent);
            box-shadow: 0 0 20px var(--accent-glow);
            transform: scale(1.02);
        }

        .url-bar-container input {
            flex: 1;
            background: transparent;
            border: none;
            padding: 15px 25px;
            color: white;
            font-size: 1.2rem;
            outline: none;
            font-weight: 300;
        }

        .load-btn {
            background: white;
            color: black;
            border-radius: 50px;
            border: none;
            padding: 0 35px;
            font-weight: 700;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: 0.3s;
        }

        .load-btn:hover {
            background: var(--accent);
            color: white;
        }

        /* Main Video Container */
        .viewport {
            position: relative;
            width: 100vw;
            height: 100vh;
            background: black;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        video {
            width: 100%;
            height: 100%;
            transition: all 0.5s ease;
        }

        /* Aspect Ratio Logic - 'Fill' forces 100% of container */
        .ratio-fit { object-fit: contain; }
        .ratio-fill { object-fit: fill; }
        .ratio-zoom { object-fit: cover; }
        .ratio-16-9 { aspect-ratio: 16/9; object-fit: cover; }

        /* TV Controls Overlay */
        .tv-overlay {
            position: absolute;
            bottom: 40px;
            width: 85%;
            opacity: 0;
            transform: translateY(20px);
            transition: 0.5s;
            pointer-events: none;
        }

        .viewport:hover .tv-overlay,
        .viewport:hover .header-panel {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }

        .glass-dock {
            background: var(--glass-heavy);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 25px 40px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 -10px 40px rgba(0,0,0,0.6);
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 30px;
        }

        .btn-icon {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border);
            width: 65px;
            height: 65px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: 0.3s;
        }

        .btn-icon:hover {
            background: var(--accent);
            border-color: var(--accent);
            transform: scale(1.1);
        }

        .btn-icon svg {
            width: 32px;
            height: 32px;
            fill: white;
        }

        /* Dropdown Styling */
        .setting-box {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .setting-box label {
            font-size: 12px;
            color: var(--accent);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        select {
            background: transparent;
            color: white;
            border: none;
            font-size: 1.1rem;
            font-family: 'Outfit';
            cursor: pointer;
            outline: none;
            padding: 5px;
        }

        select option { background: #111; color: white; }

        /* Progress Bar */
        .timeline-container {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            margin-bottom: 25px;
            cursor: pointer;
            position: relative;
        }

        .timeline-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #0044ff);
            width: 0%;
            border-radius: 10px;
            box-shadow: 0 0 15px var(--accent-glow);
        }

        /* Fullscreen Prompt */
        .fs-hint {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 0.8rem;
            opacity: 0.5;
        }
    </style>
</head>
<body>

    <!-- Premium URL Input Bar -->
    <div class="header-panel" id="headerPanel">
        <div class="url-bar-container">
            <input type="text" id="streamUrl" placeholder="Enter Network Stream URL (M3U8 / MP4)...">
            <button class="load-btn" onclick="loadStream()">Initialize</button>
        </div>
    </div>

    <div class="viewport" id="playerViewport">
        <div class="fs-hint">Double-click for Fullscreen</div>
        
        <video id="mainVideo" class="ratio-fit" playsinline></video>

        <!-- TV Dock Controls -->
        <div class="tv-overlay">
            <div class="timeline-container" id="timeline">
                <div class="timeline-fill" id="timeFill"></div>
            </div>

            <div class="glass-dock">
                <div class="control-group">
                    <button class="btn-icon" id="playToggle">
                        <svg id="p-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                        <svg id="p-pause" viewBox="0 0 24 24" style="display:none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                    </button>

                    <div class="setting-box">
                        <label>Audio Track</label>
                        <select id="audioList"><option>Default</option></select>
                    </div>

                    <div class="setting-box">
                        <label>Subtitles</label>
                        <select id="subList"><option value="-1">None</option></select>
                    </div>
                </div>

                <div class="control-group">
                    <div class="setting-box">
                        <label>Screen Format</label>
                        <select id="ratioList">
                            <option value="ratio-fit">Fit to Screen</option>
                            <option value="ratio-fill">Fill Screen (Stretch)</option>
                            <option value="ratio-zoom">Smart Zoom (No Bars)</option>
                            <option value="ratio-16-9">Cinema 16:9</option>
                        </select>
                    </div>
                    
                    <button class="btn-icon" id="fullScreenBtn">
                        <svg viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

<script>
    const video = document.getElementById('mainVideo');
    const playToggle = document.getElementById('playToggle');
    const pPlay = document.getElementById('p-play');
    const pPause = document.getElementById('p-pause');
    const audioList = document.getElementById('audioList');
    const subList = document.getElementById('subList');
    const ratioList = document.getElementById('ratioList');
    const timeFill = document.getElementById('timeFill');
    const timeline = document.getElementById('timeline');
    const playerViewport = document.getElementById('playerViewport');
    
    let hls = new Hls();

    function loadStream() {
        const url = document.getElementById('streamUrl').value;
        if(!url) return;

        // Reset UI Menus
        audioList.innerHTML = '<option>Default</option>';
        subList.innerHTML = '<option value="-1">None</option>';

        if (Hls.isSupported()) {
            hls.destroy();
            hls = new Hls();
            hls.loadSource(url);
            hls.attachMedia(video);
            hls.on(Hls.Events.MANIFEST_PARSED, () => {
                video.play();
                updatePlayIcons();
                
                // Audio Tracks
                hls.audioTracks.forEach((t, i) => {
                    audioList.add(new Option(t.name || `Language ${i}`, i));
                });

                // Subtitles
                hls.subtitleTracks.forEach((t, i) => {
                    subList.add(new Option(t.name || `Subtitles ${i}`, i));
                });
            });

            audioList.onchange = () => hls.audioTrack = audioList.value;
            subList.onchange = () => hls.subtitleTrack = subList.value;

        } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
            video.src = url;
            video.play();
        }
    }

    // Play/Pause Interaction
    playToggle.onclick = togglePlay;
    video.onclick = togglePlay;

    function togglePlay() {
        if (video.paused) video.play();
        else video.pause();
        updatePlayIcons();
    }

    function updatePlayIcons() {
        if (video.paused) {
            pPlay.style.display = 'block';
            pPause.style.display = 'none';
        } else {
            pPlay.style.display = 'none';
            pPause.style.display = 'block';
        }
    }

    // Aspect Ratio Logic
    ratioList.onchange = () => {
        video.className = ratioList.value;
    };

    // Fullscreen Logic
    const toggleFS = () => {
        if (!document.fullscreenElement) {
            playerViewport.requestFullscreen();
        } else {
            document.exitFullscreen();
        }
    };

    document.getElementById('fullScreenBtn').onclick = toggleFS;
    playerViewport.ondblclick = toggleFS;

    // Timeline logic
    video.ontimeupdate = () => {
        const pct = (video.currentTime / video.duration) * 100;
        timeFill.style.width = pct + '%';
    };

    timeline.onclick = (e) => {
        const rect = timeline.getBoundingClientRect();
        const pos = (e.clientX - rect.left) / rect.width;
        video.currentTime = pos * video.duration;
    };

    // Load a sample stream on start
    document.getElementById('streamUrl').value = "https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8";
</script>

</body>
</html>